<!doctype html>
<html ng-app="PokerFace">
<head>
  <title>PokerFace</title>

  <!-- styling -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- typography -->
  <script type="text/javascript" src="//use.typekit.net/nyf5kng.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  <!-- angular -->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.3/angular.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
  <script src="js/jquery.knob.js"></script>
  <script src="js/controllers.js"></script>
  <script src="js/factories.js"></script>
  <script src="js/directives.js"></script>
  <script src="js/filters.js"></script>

</head>

<body ng-controller="MainCtrl">

<script>
  $(function() {
    $(".dial").knob();
  });
</script>

  <script>
    function clock() {
      var $s = $(".second"),
          $m = $(".minute"),
          $h = $(".hour");
          d = new Date(),
          s = d.getSeconds(),
          m = d.getMinutes(),
          h = d.getHours();
      $s.val(s).trigger("change");
      $m.val(m).trigger("change");
      $h.val(h).trigger("change");
      setTimeout("clock()", 1000);
    }
    clock();
    </script>

  <style>
    p { font-size: 30px; line-height: 30px }
    div.demo { text-align: center; width: 280px; float: left }
    div.demo > p { font-size: 20px }
  </style>

<ul ng-show="playerId == state.game.turn">
  <li><button ng-click="fold()">Fold</button></li>
  <li><input type="text" ng-model="amount"><button ng-click="bet(amount)">Bet {{ amount }}</button></li>
  <!--<li><button ng-click="showHand()">Show Hand</button></li>-->
</ul>

<div id="wrapper" class="player_count_{{ state.players.length }}">

  <!-- add winner class to make winner -->
  <div fade-in-player ng-repeat="player in state.players" class="player loc_{{ player.playerID }}" ng-class="{trans_out: player.playerID == newPlayerId, player_action: player.playerID == state.game.turn, folded: player.folded}">
    <div class="dealer" ng-show="player.playerID == state.game.dealer">d</div>

    <div class="avatar">
      <span class="foldMessage"><span>Fold</span></span>
      <span class="winnerMessage"><span>Winner <br>Takes All!</span></span>
      <img ng-src="images/temp{{ player.playerID }}.jpg" alt="Player one's avatar image.">
    </div>

    <div class="dialContainer">
      <input knob type="text" value="{{ state.game.bets[player.playerID] }}" class="dial" data-width="178">
    </div>

    <div class="score color_0">
      <h1>{{ player.chips }}</h1>
      <h2 class="info">stack total</h2>
    </div>

    <div class="stats">

      <ul class="cards">
        <li ng-show="cards[player.playerID]" ng-repeat="card in cards[player.playerID]">{{ card[0] }} <span class="icon {{card | suits}}">{{ card | suits }}</span></li>
        <li class="amountBetting color_0">{{ state.game.bets[player.playerID] }}</li>
      </ul>

    </div>

  </div>

  <button id="startGame" ng-click="startGame()" ng-hide="state.game">Start Game</button>

  <ul id="largeCards" ng-show="state.game">
    <li ng-repeat="card in state.game.board">{{ card[0] }} <span class="icon {{card | suits}}">{{ card | suits }}</span></li>
  </ul>

  <div id="pot" ng-show="state.game">
    <h1>{{ state.game.pot }}</h1>
  </div>

</div><!-- wrapper -->

</body>
</html>